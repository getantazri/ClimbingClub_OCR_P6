<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE struts PUBLIC
        "-//Apache Software Foundation//DTD Struts Configuration 2.5//EN"
        "http://struts.apache.org/dtds/struts-2.5.dtd">

<struts>
    <!-- =============================================================== -->
    <!-- Package CCLUB DEFAULT -->
    <!-- =============================================================== -->
    <package name="cclub-default" extends="struts-default" namespace="/">
        <!-- Action INDEX par dÃ©faut -->
        <default-action-ref name="index" />
        <action name="index">
            <result>/WEB-INF/jsp/index.jsp</result>
        </action>

        <action name="error">
            <result>/WEB-INF/jsp/error.jsp</result>
        </action>

    </package>

    <!-- =============================================================== -->
    <!-- Package TOPOS -->
    <!-- =============================================================== -->
    <package name="topos" extends="cclub-default" namespace="/topos">
        <!-- Action TOPOS LIST -->
        <action name="doToposList"
                class="com.antazri.climbingclub.webapp.action.GestionTopoAction"
                method="doListAllTopos">

            <result>/WEB-INF/jsp/topos/topos.jsp</result>
        </action>

        <!-- Action TOPO DETAILS -->
        <action name="doTopoDetails"
                class="com.antazri.climbingclub.webapp.action.GestionTopoAction"
                method="doTopoDetails">

            <result name="success">/WEB-INF/jsp/topos/topo.jsp</result>
            <result name="error">/WEB-INF/jsp/error.jsp</result>

        </action>

        <!-- Action ADD TOPO -->
        <action name="doAddTopo"
                class="com.antazri.climbingclub.webapp.action.GestionTopoAction"
                method="doAddTopo">

            <result name="input">/WEB-INF/jsp/topos/add_topo.jsp</result>
            <result name="success" type="redirectAction">
                <param name="actionName">doTopoDetails</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
            <result name="error">/WEB-INF/jsp/topos/add_topo.jsp</result>
        </action>

        <!-- Action UPDATE TOPO -->
        <action name="doGetTopoToUpdate"
                class="com.antazri.climbingclub.webapp.action.GestionTopoAction"
                method="doGetTopoToUpdate">

            <result name="input">/WEB-INF/jsp/topos/update_topo.jsp</result>
            <result name="error" type="redirectAction">
                <param name="actionName">doTopoDetails</param>
                <param name="topoId">${topo.topoId}</param>
            </result>

        </action>

        <action name="doUpdateTopo"
                class="com.antazri.climbingclub.webapp.action.GestionTopoAction"
                method="doUpdateTopo">

            <result name="input">/WEB-INF/jsp/topos/update_topo.jsp</result>
            <result name="success" type="redirectAction">
                <param name="actionName">doTopoDetails</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
            <result name="error" type="redirectAction">
                <param name="actionName">doTopoDetails</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
        </action>

        <!-- Action DELETE TOPO -->
        <action name="doDeleteTopo"
                class="com.antazri.climbingclub.webapp.action.GestionTopoAction"
                method="doDeleteTopo">

            <result name="success" type="redirect">/compte/doGetCompte.action</result>
            <result name="error" type="redirect">/compte/doGetCompte.action</result>
        </action>
    </package>

    <!-- =============================================================== -->
    <!-- Package SPOTS -->
    <!-- =============================================================== -->
    <package name="spots" extends="cclub-default" namespace="/spots">
        <!-- Action SPOT DETAILS -->
        <action name="doSpotDetails"
                class="com.antazri.climbingclub.webapp.action.GestionSpotAction"
                method="doSpotDetails">

            <result name="success">/WEB-INF/jsp/spots/spot.jsp</result>
            <result name="error">/WEB-INF/jsp/error.jsp</result>
        </action>

        <!-- Action ADD SPOT -->
        <action name="doAddSpot"
                class="com.antazri.climbingclub.webapp.action.GestionSpotAction"
                method="doAddSpot">

            <result name="input">/WEB-INF/jsp/spots/add_spot.jsp</result>
            <result name="success" type="redirectAction">
                <param name="actionName">doSpotDetails</param>
                <param name="spotId">${spot.spotId}</param>
                <param name="topoId">${topoId}</param>
            </result>
            <result name="error">/WEB-INF/jsp/spots/add_spot.jsp</result>
        </action>

        <!-- Action GET SPOT TO UPDATE -->
        <action name="doGetSpotToUpdate"
                class="com.antazri.climbingclub.webapp.action.GestionSpotAction"
                method="doGetSpotToUpdate">

            <result name="input">/WEB-INF/jsp/spots/update_spot.jsp</result>
            <result name="error" type="redirectAction">
                <param name="actionName">doSpotDetails</param>
                <param name="spotId">${spot.spotId}</param>
                <param name="topoId">${topoId}</param>
            </result>
        </action>

        <!-- Action UPDATE SPOT -->
        <action name="doUpdateSpot"
                class="com.antazri.climbingclub.webapp.action.GestionSpotAction"
                method="doUpdateSpot">

            <result name="input">/WEB-INF/jsp/spots/update_spot.jsp</result>
            <result name="success" type="redirectAction">
                <param name="actionName">doSpotDetails</param>
                <param name="spotId">${spot.spotId}</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
            <result name="error" type="redirectAction">
                <param name="actionName">doSpotDetails</param>
                <param name="spotId">${spot.spotId}</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
        </action>

        <!-- Action DELETE SPOT -->
        <action name="doDeleteSpot"
                class="com.antazri.climbingclub.webapp.action.GestionSpotAction"
                method="doDeleteSpot">

            <result name="success" type="redirectAction">
                <param name="actionName">doTopoDetails</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
            <result name="error" type="redirectAction">
                <param name="actionName">doTopoDetails</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
        </action>
    </package>

    <!-- =============================================================== -->
    <!-- Package SECTEURS -->
    <!-- =============================================================== -->
    <package name="secteurs" extends="cclub-default" namespace="/secteurs">
        <!-- Action SECTEUR DETAILS -->
        <action name="doSecteurDetails"
                class="com.antazri.climbingclub.webapp.action.GestionSecteurAction"
                method="doSecteurDetails">

            <result name="success">/WEB-INF/jsp/secteurs/secteur.jsp</result>
            <result name="error">/WEB-INF/jsp/error.jsp</result>
        </action>

        <!-- Action ADD SECTEUR -->
        <action name="doAddSecteur"
                class="com.antazri.climbingclub.webapp.action.GestionSecteurAction"
                method="doAddSecteur">

            <result name="input">/WEB-INF/jsp/secteurs/add_secteur.jsp</result>
            <result name="success" type="redirectAction">
                <param name="actionName">doSecteurDetails</param>
                <param name="secteur.secteurId">${secteur.secteurId}</param>
            </result>
            <result name="error">/WEB-INF/jsp/secteurs/add_secteur.jsp</result>
        </action>

        <!-- Action GET SECTEUR TO UPDATE -->
        <action name="doGetSecteurToUpdate"
                class="com.antazri.climbingclub.webapp.action.GestionSecteurAction"
                method="doGetSecteurToUpdate">

            <result name="input">/WEB-INF/jsp/secteurs/update_secteur.jsp</result>
            <result name="error" type="redirectAction">
                <param name="actionName">doSecteurDetails</param>
                <param name="secteur.secteurId">${secteur.secteurId}</param>
            </result>
        </action>

        <!-- Action UPDATE SECTEUR -->
        <action name="doUpdateSecteur"
                class="com.antazri.climbingclub.webapp.action.GestionSecteurAction"
                method="doUpdateSecteur">

            <result name="input">/WEB-INF/jsp/secteurs/update_secteur.jsp</result>
            <result name="success" type="redirectAction">
                <param name="actionName">doSecteurDetails</param>
                <param name="secteur.secteurId">${secteur.secteurId}</param>
            </result>
            <result name="error" type="redirectAction">
                <param name="actionName">doSecteurDetails</param>
                <param name="secteur.secteurId">${secteur.secteurId}</param>
            </result>
        </action>

        <!-- Action DELETE SECTEUR -->
        <action name="doDeleteSecteur"
                class="com.antazri.climbingclub.webapp.action.GestionSecteurAction"
                method="doDeleteSecteur">

            <result name="success" type="redirectAction">
                <param name="actionName">doSpotDetails</param>
                <param name="spotId">${spot.spotId}</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
            <result name="error" type="redirectAction">
                <param name="actionName">doSpotDetails</param>
                <param name="spotId">${spot.spotId}</param>
                <param name="topoId">${topo.topoId}</param>
            </result>
        </action>
    </package>

    <!-- =============================================================== -->
    <!-- Package REGIONS -->
    <!-- =============================================================== -->
    <package name="regions" extends="cclub-default" namespace="/regions">
        <!-- Action EN REGION page access -->
        <action name="doRegions">
            <result>/WEB-INF/jsp/regions/regions.jsp</result>
        </action>

        <!-- Action REGION DETAILS -->
        <action name="doRegionDetails"
                class="com.antazri.climbingclub.webapp.action.RegionAction"
                method="doRegionDetails">

            <result name="success">/WEB-INF/jsp/regions/region.jsp</result>
            <result name="error">/WEB-INF/jsp/regions/regions.jsp</result>
        </action>

    </package>

    <!-- =============================================================== -->
    <!-- Package PUBLIC -->
    <!-- =============================================================== -->
    <package name="public" extends="cclub-default" namespace="/login">
        <!-- Action LOGIN -->
        <action name="doLogin"
                class="com.antazri.climbingclub.webapp.action.LoginAction"
                method="doLogin">
            <result name="input">/WEB-INF/jsp/login.jsp</result>
            <result name="success" type="redirectAction">/compte/doGetCompte</result>
            <result name="error">/WEB-INF/jsp/login.jsp</result>
        </action>

        <!-- Action LOGOUT -->
        <action name="doLogout"
                class="com.antazri.climbingclub.webapp.action.LoginAction"
                method="doLogout">
            <result type="redirectAction">/login/doLogin</result>
        </action>

        <!-- Action INSCRIPTION -->
        <action name="doGetInscription"
                class="com.antazri.climbingclub.webapp.action.CompteUtilisateurAction"
                method="doGetInscription">
            <result name="success">/WEB-INF/jsp/inscription.jsp</result>
        </action>
        <action name="doInscription"
                class="com.antazri.climbingclub.webapp.action.CompteUtilisateurAction"
                method="doInscription">
            <result name="success" type="redirectAction">/compte/doGetCompte</result>
            <result name="error">/WEB-INF/jsp/inscription.jsp</result>
        </action>
    </package>

    <!-- =============================================================== -->
    <!-- Package USER -->
    <!-- =============================================================== -->
    <package name="user" extends="public" namespace="/compte">
        <!-- Action ACCES COMPTE -->
        <action name="doGetCompte"
                class="com.antazri.climbingclub.webapp.action.LoginAction"
                method="doGetCompte">
            <result name="success">/WEB-INF/jsp/user/compte.jsp</result>
            <result name="error" type="redirectAction">/login/doLogin</result>
        </action>
    </package>

    <!-- =============================================================== -->
    <!-- Package ADMIN -->
    <!-- =============================================================== -->
    <package name="admin" extends="user" namespace="/admin">
        <!-- Action ACCES ADMIN -->
        <action name="doLoginAdmin">
            <result name="success">/WEB-INF/jsp/admin/</result>
            <result name="error" type="redirectAction">/login/doLogin</result>
        </action>
    </package>
</struts>